<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <style>
    body { margin: 0; overflow: hidden; background: #000; touch-action: none; font-family: sans-serif; }
    #game-container { position: relative; width: 100vw; height: 55vh; background: #87CEEB; overflow: hidden; border-bottom: 4px solid #fff; }
    #game-world { position: absolute; width: 10500px; height: 100%; left: 0; top: 0; }
    #static-ground { position: absolute; bottom: 0; width: 10500px; height: 40px; background: #8b4513; border-top: 4px solid #5d2e0d; z-index: 1; }
    #player { position: absolute; width: 40px; height: auto; z-index: 10; bottom: 40px; left: 50px; }
    .fish-weapon { position: absolute; font-size: 25px; z-index: 5; }
    .enemy { position: absolute; width: 40px; height: 40px; text-align: center; font-size: 28px; line-height: 40px; z-index: 8; }
    #info-panel { position: absolute; top: 10px; right: 20px; text-align: right; color: #fff; font-weight: bold; font-size: 13px; z-index: 100; text-shadow: 2px 2px #000; }
    .pole { position: absolute; bottom: 40px; width: 6px; height: 120px; background: #ddd; border: 1px solid #999; }
    .flag-rect { position: absolute; width: 50px; height: 35px; left: 6px; }
    #start-flag { background: #0a0; }
    #goal-flag { background: #fff; border: 1px solid #ccc; }
    #goal-flag::before { content: ""; position: absolute; top: 7px; left: 15px; width: 20px; height: 20px; background: red; border-radius: 50%; }
    #ui-panel { width: 100vw; height: 45vh; background: #222; display: flex; align-items: center; justify-content: center; position: relative; z-index: 1000; }
    .btn-group { display: flex; gap: 15px; }
    .btn { width: 75px; height: 75px; background: #444; border: 3px solid #777; border-radius: 50%; color: #fff; font-weight: bold; text-align: center; line-height: 75px; user-select: none; -webkit-tap-highlight-color: transparent; }
    .btn:active { background: #666; transform: scale(0.9); }
  </style>
</head>
<body onclick="startNow()">
  <div id="game-container">
    <div id="info-panel"><div id="score-board">SCORE: 0 / 1000</div></div>
    <div id="game-world">
      <div id="static-ground"></div>
      <div id="entities"></div>
      <div class="pole" style="left: 20px;"><div class="flag-rect" id="start-flag" style="top: 0;"></div></div>
      <img src="https://yuu073148.github.io/creator-game/character.png" id="player">
      <div id="goal-pole" style="position: absolute; left: 9800px; height: 300px; bottom: 40px; border-left: 6px solid #ddd;">
        <div class="flag-rect" id="goal-flag" style="top: 0; position:absolute;"></div>
      </div>
    </div>
  </div>
  <div id="ui-panel">
    <div class="btn-group">
      <div class="btn" id="btn-left">‚Üê</div><div class="btn" id="btn-right">‚Üí</div>
      <div class="btn" id="btn-fire" style="background:#058; border-color:#0cf;">FISH</div>
      <div class="btn" id="btn-jump" style="background:#228; border-color:#55f;">JUMP</div>
    </div>
  </div>

<script>
  const CHANNEL_URL = "https://www.youtube.com/@S_even7";
  const player = document.getElementById('player'), world = document.getElementById('game-world'), entities = document.getElementById('entities'), scoreEl = document.getElementById('score-board');
  let px = 50, py = 40, vx = 0, vy = 0, score = 0, jumpCount = 0, isGoal = false, isDead = false, gameActive = false;
  const gravity = 0.8, keys = { left: false, right: false };

  function startNow() {
    if (gameActive) return;
    gameActive = true;
    spawnEnemies();
    setupBtns();
    setInterval(updateGame, 30);
  }

  function spawnEnemies() {
    entities.innerHTML = '';
    for(let i=0; i<30; i++) {
      let rx = 800 + Math.random() * 8500;
      const e = document.createElement('div'); e.className = 'enemy'; e.style.left = rx+'px'; e.style.bottom = '40px';
      e.innerHTML = ['üê§','üê¢','üê¨'][Math.floor(Math.random()*3)]; entities.appendChild(e);
    }
  }

  function setupBtns() {
    const bind = (id, k) => {
      const b = document.getElementById(id);
      b.onmousedown = b.ontouchstart = (e) => { e.preventDefault(); if(k) keys[k] = true; };
      b.onmouseup = b.ontouchend = (e) => { e.preventDefault(); if(k) keys[k] = false; };
    };
    bind('btn-left', 'left'); bind('btn-right', 'right');
    document.getElementById('btn-jump').onmousedown = document.getElementById('btn-jump').ontouchstart = (e) => { e.preventDefault(); if(!isDead && jumpCount < 1) { vy = 16; jumpCount++; } };
    document.getElementById('btn-fire').onmousedown = document.getElementById('btn-fire').ontouchstart = (e) => { e.preventDefault(); fireFish(); };
  }

  function fireFish() {
    if(isDead) return;
    const f = document.createElement('div'); f.className = 'fish-weapon'; f.innerHTML = 'üêü';
    f.style.left = (px + 40) + 'px'; f.style.bottom = (py + 10) + 'px'; world.appendChild(f);
    let fx = px + 40;
    const ft = setInterval(() => {
      fx += 12; f.style.left = fx + 'px';
      document.querySelectorAll('.enemy').forEach(en => {
        if (Math.abs(fx - parseInt(en.style.left)) < 30) { en.remove(); f.remove(); score += 100; scoreEl.innerText = `SCORE: ${score} / 1000`; clearInterval(ft); }
      });
      if (fx > px + 600) { f.remove(); clearInterval(ft); }
    }, 20);
  }

  function updateGame() {
    if(isGoal || isDead) return;
    vx = keys.right ? 8 : (keys.left ? -8 : 0);
    if(vx !== 0) player.style.transform = vx > 0 ? "scaleX(1)" : "scaleX(-1)";
    px += vx; vy -= gravity; py += vy;
    if (py <= 40) { py = 40; vy = 0; jumpCount = 0; }
    player.style.left = px + 'px'; player.style.bottom = py + 'px';
    world.style.left = -(px - 50) + 'px';
    document.querySelectorAll('.enemy').forEach(en => {
      let ex = parseInt(en.style.left), ey = parseInt(en.style.bottom);
      if (Math.abs(px + 20 - (ex + 20)) < 22 && Math.abs(py + 20 - (ey + 20)) < 22) {
        if (vy < 0 && py > ey + 12) { en.remove(); vy = 13; score += 100; scoreEl.innerText = `SCORE: ${score} / 1000`; }
        else { isDead = true; alert("GAME OVER"); location.reload(); }
      }
    });
    if(px > 9780) { isGoal = true; alert("MISSION COMPLETE! „ÉÅ„É£„É≥„Éç„É´ÁôªÈå≤„Åó„Å¶„Å≠ÔºÅ"); window.open(CHANNEL_URL, '_blank'); location.reload(); }
  }
</script>
</body>
</html>
